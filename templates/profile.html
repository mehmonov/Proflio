{% load compress %} {% load static %} {% load custom_filters %} 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile  </title>
    
    {% compress css %}
    <link rel="stylesheet" href="{% static 'src/output.css' %}" />
    {% endcompress %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
   <!-- component -->
<main class="py-6 px-4 sm:px-6 lg:px-8 space-y-12 bg-gray-100 min-h-screen w-full relative">
	<section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 bg-white divide-x w-full rounded-lg">
		<!-- Update each section with a data-section attribute and onclick event -->
		<div class="flex px-4 py-5 sm:px-8 cursor-pointer text-gray-900 items-center hover:bg-gray-100" data-section="overview" onclick="changeSection('overview')">
			<svg class="text-gray-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="48px"
				fill="#5f6368">
				<path
					d="M212-241v-339h60v339h-60Zm242 0v-339h60v339h-60ZM80-121v-60h800v60H80Zm608-120v-339h60v339h-60ZM80-640v-53l400-228 400 228v53H80Zm134-60h532-532Zm0 0h532L480-852 214-700Z" />
			</svg>
			<div class="ml-3">
				<div class="font-medium leading-6 text-gray-600">View and edit information 2222</div>
				<div class="mt-0.5 text-sm text-gray-500">
                    
                </div>
			</div>
		</div>

		<div class="flex px-4 py-5 sm:px-8 cursor-pointer text-gray-900 items-center hover:bg-gray-100" data-section="facilities" onclick="changeSection('facilities')">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="48px"
				fill="#5f6368">
				<path
					d="M212-241v-339h60v339h-60Zm242 0v-339h60v339h-60ZM80-121v-60h800v60H80Zm608-120v-339h60v339h-60ZM80-640v-53l400-228 400 228v53H80Zm134-60h532-532Zm0 0h532L480-852 214-700Z" />
			</svg>
			<div class="ml-3">
				<div class="font-medium leading-6 text-gray-600">Subscription</div>
				<div class="mt-0.5 text-sm text-gray-500">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
			</div>
		</div>
		 
	</section>

	<!-- Content section -->
	<div id="content" class="flex flex-col h-full w-full mx-auto space-y-6">
		<!-- Default content (Facilities) -->
		<section id="facilities-content" class="flex flex-col mx-auto bg-white rounded-lg p-4 sm:p-6 shadow-md space-y-6 w-full">
			<div class="w-full grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
				<form class="flex flex-col relative md:col-span-3">
					<div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
					 <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>
					</div>
					<input type="search" id="default-search" class="block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-100 rounded bg-gray-50" placeholder="Search here..." required />
					<button type="submit" class="text-blue-500 absolute end-2.5 top-1.5 border border-blue-500 hover:bg-blue-50 focus:outline-none font-medium rounded text-base px-4 py-2">Search</button>
				</form>
				<div class="col-span-1 flex items-center">
					<button class="relative px-4 py-2 rounded w-full sm:w-80 items-center justify-center bg-blue-500 text-white font-medium hover:bg-primary-900">
						New facility
					</button>
				</div>
			</div>


			<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
				<!-- In use -->
				<div class="flex flex-col px-6 py-2 bg-white shadow rounded-lg overflow-hidden">
					<div class="flex flex-col items-center space-y-2">
						<div class="text-6xl font-bold tracking-tight leading-none text-blue-500">21</div>
						<div class="text-lg font-medium text-blue-500">In use</div>
					</div>
				</div>
				<!-- renovation -->
				<div class="flex flex-col px-6 py-2 bg-white shadow rounded-lg overflow-hidden">
					<div class="flex flex-col items-center space-y-2">
						<div class="text-6xl font-bold tracking-tight leading-none text-amber-500">17</div>
						<div class="text-lg font-medium text-amber-600">Under renovation</div>
					</div>
				</div>
				<!-- Suspended -->
				<div class="flex flex-col px-6 py-2 bg-white shadow rounded-lg overflow-hidden">
					<div class="flex flex-col items-center space-y-2">
						<div class="text-6xl font-bold tracking-tight leading-none text-red-500">24</div>
						<div class="text-lg font-medium text-red-600">Suspended</div>
					</div>
				</div>
				<!-- Closed -->
				<div class="flex flex-col px-6 py-2 bg-white shadow rounded-lg overflow-hidden">
					<div class="flex flex-col items-center space-y-2">
						<div class="text-6xl font-bold tracking-tight leading-none text-primary-900">38</div>
						<div class="text-lg font-medium text-primary-900">Closed</div>
					</div>
				</div>
			</div>
		</section>

		<!-- New sections for other content (initially hidden) -->
		<section id="overview-content" class="hidden flex flex-col mx-auto bg-white rounded-lg p-4 sm:p-6 shadow-md space-y-6 w-full">
			<h2 class="text-2xl font-bold">Profile Information</h2>
			<div class="ml-3 bg-white rounded-2xl shadow-lg p-6 relative">
                <div class="font-medium leading-6 text-gray-600 mb-4">Base Information</div>
                <div class="space-y-3">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-900">{{ profile.user.first_name }} {{ profile.user.last_name }}</p>
                            <p class="text-sm text-gray-500">{{ profile.user.email }}</p> <p class="text-sm text-gray-500">{{ profile.user.username }}</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-900">{{ profile.job|default:"Not specified" }}</p>
                            <p class="text-sm text-gray-500">Job</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-900">{{ profile.location|default:"Not specified" }}</p>
                            <p class="text-sm text-gray-500">Location</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-900">{{ profile.phone_number|default:"Not specified" }}</p>
                            <p class="text-sm text-gray-500">Phone</p>
                        </div>
                    </div>
                </div>
                <button id="editUserInfo" class="absolute top-4 right-4 bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors duration-200">
                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                </button>
            </div>
            <div class="ml-3 bg-white rounded-2xl shadow-lg p-6 relative">
                <div class="font-medium leading-6 text-gray-600 mb-4">Skills</div>
                <button id="editSkills" class="absolute top-4 right-4 bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors duration-200">
                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                </button>
                <div class="space-y-3">
                    {% for skill in profile.user.skills.all %}
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-900">{{ skill.title|default:"Not specified" }}</p>
                                <p class="text-sm text-gray-500">{{ skill.description|default:"Not specified" }}</p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="ml-3 bg-white rounded-2xl shadow-lg p-6 relative">
                <div class="font-medium leading-6 text-gray-600 mb-4">Experience</div>
                <button id="editExperience" class="absolute top-4 right-4 bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors duration-200">
                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                </button>
                <div class="space-y-3">
                    {% for experience in profile.user.companies.all %}
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-900">{{ experience.name|default:"Not specified" }}</p>
                                <p class="text-sm text-gray-500">{{ experience.desc|default:"Not specified" }}</p>
                                <p class="text-sm text-gray-500">{{ experience.start_date|default:"Not specified" }} - {{ experience.end_date|default:"Not specified" }}</p>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <!-- Social Media Links Section -->
            <div class="ml-3 bg-white rounded-2xl shadow-lg p-6 relative mt-6">
                <div class="font-medium leading-6 text-gray-600 mb-4">Social Media Links</div>
                {% if request.user == profile.user %}
                <button id="editLinks" class="absolute top-4 right-4 bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors duration-200">
                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                </button>
                {% endif %}
                <div class="space-y-3">
                    {% for platform in profile.user.links.all %}
                        {% if platform.telegram_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                    <i class="fab fa-telegram text-blue-500"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://telegram.me/{{ platform.telegram_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">Telegram</a>
                                    <p class="text-sm text-gray-500">{{ platform.telegram_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.instagram_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center">
                                    <i class="fab fa-instagram text-pink-500"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://instagram.com/{{ platform.instagram_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">Instagram</a>
                                    <p class="text-sm text-gray-500">{{ platform.instagram_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.facebook_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center">
                                    <i class="fab fa-facebook-f text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://facebook.com/{{ platform.facebook_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">Facebook</a>
                                    <p class="text-sm text-gray-500">{{ platform.facebook_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.twitter_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-blue-400 rounded-full flex items-center justify-center">
                                    <i class="fab fa-twitter text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://twitter.com/{{ platform.twitter_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">Twitter</a>
                                    <p class="text-sm text-gray-500">{{ platform.twitter_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.linkedin_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-blue-800 rounded-full flex items-center justify-center">
                                    <i class="fab fa-linkedin-in text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://linkedin.com/in/{{ platform.linkedin_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">LinkedIn</a>
                                    <p class="text-sm text-gray-500">{{ platform.linkedin_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.youtube_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center">
                                    <i class="fab fa-youtube text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://youtube.com/{{ platform.youtube_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">YouTube</a>
                                    <p class="text-sm text-gray-500">{{ platform.youtube_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.tiktok_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-black rounded-full flex items-center justify-center">
                                    <i class="fab fa-tiktok text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://tiktok.com/@{{ platform.tiktok_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">TikTok</a>
                                    <p class="text-sm text-gray-500">{{ platform.tiktok_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.whatsapp_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center">
                                    <i class="fab fa-whatsapp text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://wa.me/{{ platform.whatsapp_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">WhatsApp</a>
                                    <p class="text-sm text-gray-500">{{ platform.whatsapp_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if platform.github_username %}
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center">
                                    <i class="fab fa-github text-white"></i>
                                </div>
                                <div class="ml-4">
                                    <a href="https://github.com/{{ platform.github_username }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">GitHub</a>
                                    <p class="text-sm text-gray-500">{{ platform.github_username }}</p>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                    {% if profile.user.links.project_url %}
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-link text-gray-500"></i>
                            </div>
                            <div class="ml-4">
                                <a href="{{ profile.user.links.project_url }}" target="_blank" class="text-sm font-medium text-gray-900 hover:underline">Project URL</a>
                                <p class="text-sm text-gray-500">{{ profile.user.links.project_url }}</p>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Website Style Section -->
            <div class="ml-3 bg-white rounded-2xl shadow-lg p-6 relative mt-6">
                <div class="font-medium leading-6 text-gray-600 mb-4">Website Style</div>
                <button id="editWebsiteStyle" class="absolute top-4 right-4 bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors duration-200">
                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                </button>
                <div class="space-y-3">
                    {% if profile.website_style %}
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
                                <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-900">{{ profile.website_style.style_name }}</p>
                                <p class="text-sm text-gray-500">Background: {{ profile.website_style.background_color }}, Text: {{ profile.website_style.text_color }}, Font: {{ profile.website_style.font }}</p>
                            </div>
                        </div>
                    {% else %}
                        <p class="text-gray-500">No website style selected.</p>
                    {% endif %}
                </div>
            </div>
        </section>

		<section id="addresses-content" class="hidden flex flex-col mx-auto bg-white rounded-lg p-4 sm:p-6 shadow-md space-y-6 w-full">
			<h2 class="text-2xl font-bold">Addresses Content</h2>
			<!-- Add addresses-specific content here -->
		</section>

		<section id="contacts-content" class="hidden flex flex-col mx-auto bg-white rounded-lg p-4 sm:p-6 shadow-md space-y-6 w-full">
			<h2 class="text-2xl font-bold">Contacts Content</h2>
			<!-- Add contacts-specific content here -->
		</section>
	</div>

	<!-- Cool share button -->
	<button id="shareButton" class="fixed bottom-8 right-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-4 shadow-lg transition-transform duration-300 ease-in-out transform hover:scale-110">
		<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
			<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
		</svg>
	</button>

	<!-- Share modal (initially hidden) -->
	<div id="shareModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
		<div class="bg-white rounded-lg p-8 max-w-sm w-full">
			<h2 class="text-2xl font-bold mb-4">Share this page</h2>
			<div class="flex space-x-4 mb-4">
				<button class="bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600" onclick="shareVia('twitter')">
					<svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
				</button>
				<button class="bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700" onclick="shareVia('facebook')">
					<svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
				</button>
				<button class="bg-green-500 text-white p-2 rounded-full hover:bg-green-600" onclick="shareVia('whatsapp')">
					<svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
				</button>
			</div>
			<div class="flex items-center bg-gray-100 rounded-lg p-2">
				<input id="shareUrl" type="text" value="" class="bg-transparent flex-grow mr-2" readonly>
				<button onclick="copyShareUrl()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Copy</button>
			</div>
			<button onclick="closeShareModal()" class="mt-4 w-full bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400">Close</button>
		</div>
	</div>

    <!-- Edit User Info Modal (initially hidden) -->
    <div id="editUserInfoModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Edit User Information</h2>
            <form action="{% url 'update_user_info' %}" method="POST">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="firstName" class="block text-sm font-medium text-gray-700">First Name</label>
                    <input type="text" id="firstName" name="first_name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ profile.user.first_name }}">
                </div>
                <div class="mb-4">
                    <label for="lastName" class="block text-sm font-medium text-gray-700">Last Name</label>
                    <input type="text" id="lastName" name="last_name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ profile.user.last_name }}">
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                    <input type="email" id="email" name="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ profile.user.email }}">
                </div>
                <div class="mb-4">
                    <label for="job" class="block text-sm font-medium text-gray-700">Job</label>
                    <input type="text" id="job" name="job" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ profile.job }}">
                </div>
                <div class="mb-4">
                    <label for="location" class="block text-sm font-medium text-gray-700">Location</label>
                    <input type="text" id="location" name="location" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ profile.location }}">
                </div>
                <div class="mb-4">
                    <label for="phoneNumber" class="block text-sm font-medium text-gray-700">Phone Number</label>
                    <input type="tel" id="phoneNumber" name="phone_number" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ profile.phone_number }}">
                </div>
                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="closeEditModal()" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Skills Modal -->
    <div id="editSkillsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Edit Skills</h2>
            <form action="{% url 'update_skills' %}" method="POST">
                {% csrf_token %}
                <div id="skillsContainer">
                    {% for skill in profile.user.skills.all %}
                        <div class="mb-4">
                            <input type="text" name="skills" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" value="{{ skill.title }}">
                        </div>
                    {% endfor %}
                </div>
                <button type="button" onclick="addSkillField()" class="mb-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Add Skill</button>
                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="closeModal('editSkillsModal')" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Experience Modal -->
    <div id="editExperienceModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Edit Experience</h2>
            <form action="{% url 'update_company' %}" method="POST">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="companySelect" class="block text-sm font-medium text-gray-700">Select Company</label>
                    <select id="companySelect" name="company_id" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" onchange="loadCompanyDetails(this)">
                        <option value="">Select a company</option>
                        {% for company in profile.user.companies.all %}
                            <option value="{{ company.id }}" 
                                    data-name="{{ company.name }}" 
                                    data-description="{{ company.desc }}" 
                                    data-start-date="{{ company.start_date|date:'Y-m-d' }}" 
                                    data-end-date="{{ company.end_date|date:'Y-m-d' }}">
                                {{ company.name }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div id="companyDetails" style="display: none;">
                    <div class="mb-4">
                        <label for="companyName" class="block text-sm font-medium text-gray-700">Company Name</label>
                        <input type="text" id="companyName" name="company_name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="jobDescription" class="block text-sm font-medium text-gray-700">Job Description</label>
                        <textarea id="jobDescription" name="job_description" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"></textarea>
                    </div>
                    <div class="mb-4">
                        <label for="startDate" class="block text-sm font-medium text-gray-700">Start Date</label>
                        <input type="date" id="startDate" name="start_date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="endDate" class="block text-sm font-medium text-gray-700">End Date</label>
                        <input type="date" id="endDate" name="end_date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                </div>
                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="closeModal('editExperienceModal')" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Links Modal -->
    <div id="editLinksModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Edit Social Media Links</h2>
            <form action="/update_links/" method="POST">
                <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
                <div id="linksContainer" class="space-y-4">
                    <div class="mb-4">
                        <label for="telegram" class="block text-sm font-medium text-gray-700">Telegram</label>
                        <input type="text" id="telegram" name="telegram_username" value="{{ profile.user.links.first.telegram_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="instagram" class="block text-sm font-medium text-gray-700">Instagram</label>
                        <input type="text" id="instagram" name="instagram_username" value="{{ profile.user.links.first.instagram_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="facebook" class="block text-sm font-medium text-gray-700">Facebook</label>
                        <input type="text" id="facebook" name="facebook_username" value="{{ profile.user.links.first.facebook_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="twitter" class="block text-sm font-medium text-gray-700">Twitter</label>
                        <input type="text" id="twitter" name="twitter_username" value="{{ profile.user.links.first.twitter_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="linkedin" class="block text-sm font-medium text-gray-700">LinkedIn</label>
                        <input type="text" id="linkedin" name="linkedin_username" value="{{ profile.user.links.first.linkedin_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="youtube" class="block text-sm font-medium text-gray-700">YouTube</label>
                        <input type="text" id="youtube" name="youtube_username" value="{{ profile.user.links.first.youtube_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="tiktok" class="block text-sm font-medium text-gray-700">TikTok</label>
                        <input type="text" id="tiktok" name="tiktok_username" value="{{ profile.user.links.first.tiktok_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="whatsapp" class="block text-sm font-medium text-gray-700">WhatsApp</label>
                        <input type="text" id="whatsapp" name="whatsapp_username" value="{{ profile.user.links.first.whatsapp_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="github" class="block text-sm font-medium text-gray-700">GitHub</label>
                        <input type="text" id="github" name="github_username" value="{{ profile.user.links.first.github_username|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div class="mb-4">
                        <label for="project_url" class="block text-sm font-medium text-gray-700">Project URL</label>
                        <input type="url" id="project_url" name="project_url" value="{{ profile.user.links.first.project_url|default_if_none:'' }}" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                </div>
                <div class="flex justify-end space-x-4 mt-6">
                    <button type="button" onclick="closeModal('editLinksModal')" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Website Style Modal -->
    <div id="editWebsiteStyleModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold mb-4">Edit Website Style</h2>
            <form action="{% url 'update_website_style' %}" method="POST">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="styleName" class="block text-sm font-medium text-gray-700">Style Name</label>
                    <select id="styleName" name="style_name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                        {% for style in website_styles %}
                            <option value="{{ style.id }}" {% if profile.website_style.id == style.id %}selected{% endif %}>{{ style.style_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="closeModal('editWebsiteStyleModal')" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

	<script>
       

        const editUserInfoButton = document.getElementById('editUserInfo');
        const editUserInfoModal = document.getElementById('editUserInfoModal');

        editUserInfoButton.addEventListener('click', function() {
            editUserInfoModal.classList.remove('hidden');
        });

        function closeEditModal() {
            editUserInfoModal.classList.add('hidden');
        }

        // Close modal when clicking outside
        editUserInfoModal.addEventListener('click', function(e) {
            if (e.target === editUserInfoModal) {
                closeEditModal();
            }
        });

        const editSkillsButton = document.getElementById('editSkills');
        const editExperienceButton = document.getElementById('editExperience');
        const editSkillsModal = document.getElementById('editSkillsModal');
        const editExperienceModal = document.getElementById('editExperienceModal');

        editSkillsButton.addEventListener('click', function() {
            openModal('editSkillsModal');
        });

        editExperienceButton.addEventListener('click', function() {
            openModal('editExperienceModal');
        });

        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Close modals when clicking outside
        [editSkillsModal, editExperienceModal].forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal(modal.id);
                }
            });
        });

function changeSection(sectionName) {
	// Hide all content sections
	document.querySelectorAll('#content > section').forEach(section => {
		section.classList.add('hidden');
	});

	// Show the selected content section
	document.getElementById(`${sectionName}-content`).classList.remove('hidden');

	// Update active section styling
	document.querySelectorAll('[data-section]').forEach(el => {
		el.classList.remove('bg-blue-50', 'border-b', 'border-l-gray-100', 'border-b-blue-500', 'border-b-4');
		el.querySelector('div').classList.remove('text-blue-600');
		el.querySelector('svg').setAttribute('fill', '#5f6368');
	});

	const activeSection = document.querySelector(`[data-section="${sectionName}"]`);
	activeSection.classList.add('bg-blue-50', 'border-b', 'border-l-gray-100', 'border-b-blue-500', 'border-b-4');
	activeSection.querySelector('div').classList.add('text-blue-600');
	activeSection.querySelector('svg').setAttribute('fill', '#4880d7');
}

// Share functionality
const shareButton = document.getElementById('shareButton');
const shareModal = document.getElementById('shareModal');
const shareUrl = document.getElementById('shareUrl');

shareButton.addEventListener('click', function() {
	shareModal.classList.remove('hidden');
	shareUrl.value = window.location.href;
});

function closeShareModal() {
	shareModal.classList.add('hidden');
}

function copyShareUrl() {
	shareUrl.select();
	document.execCommand('copy');
	alert('URL copied to clipboard!');
}

function shareVia(platform) {
	const url = encodeURIComponent(window.location.href);
	const text = encodeURIComponent(document.title);
	let shareUrl;

	switch(platform) {
		case 'twitter':
			shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
			break;
		case 'facebook':
			shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
			break;
		case 'whatsapp':
			shareUrl = `https://wa.me/?text=${text}%20${url}`;
			break;
	}

	window.open(shareUrl, '_blank');
}

// Close modal when clicking outside
shareModal.addEventListener('click', function(e) {
	if (e.target === shareModal) {
		closeShareModal();
	}
});

// Set initial active section
changeSection('facilities');

function addSkillField() {
    const container = document.getElementById('skillsContainer');
    const newField = document.createElement('div');
    newField.className = 'mb-4';
    newField.innerHTML = '<input type="text" name="skills" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">';
    container.appendChild(newField);
}

function loadCompanyDetails(selectElement) {
    const selectedOption = selectElement.options[selectElement.selectedIndex];
    const companyDetails = document.getElementById('companyDetails');

    if (selectedOption.value) {
        document.getElementById('companyName').value = selectedOption.dataset.name;
        document.getElementById('jobDescription').value = selectedOption.dataset.description;
        document.getElementById('startDate').value = selectedOption.dataset.startDate;
        document.getElementById('endDate').value = selectedOption.dataset.endDate || '';
        companyDetails.style.display = 'block';
    } else {
        document.getElementById('companyName').value = '';
        document.getElementById('jobDescription').value = '';
        document.getElementById('startDate').value = '';
        document.getElementById('endDate').value = '';
        companyDetails.style.display = 'none';
    }
}

const editLinksButton = document.getElementById('editLinks');
const editWebsiteStyleButton = document.getElementById('editWebsiteStyle');
const editLinksModal = document.getElementById('editLinksModal');
const editWebsiteStyleModal = document.getElementById('editWebsiteStyleModal');

editLinksButton.addEventListener('click', function() {
    openModal('editLinksModal');
});

editWebsiteStyleButton.addEventListener('click', function() {
    openModal('editWebsiteStyleModal');
});

function addLinkField() {
    const container = document.getElementById('linksContainer');
    const newField = document.createElement('div');
    newField.className = 'mb-4';
    newField.innerHTML = `
        <input type="text" name="link_names" placeholder="Link Name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
        <input type="url" name="link_urls" placeholder="URL" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
        <input type="text" name="link_colors" placeholder="Color" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
        <input type="text" name="link_icons" placeholder="Icon Class" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
    `;
    container.appendChild(newField);
}

// Close modals when clicking outside
[editLinksModal, editWebsiteStyleModal].forEach(modal => {
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeModal(modal.id);
        }
    });
});
</script>
</body>
</html>